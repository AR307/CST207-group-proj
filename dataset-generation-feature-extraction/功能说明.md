# æ•°æ®é›†ç”Ÿæˆä¸ç‰¹å¾æå–æ¨¡å— - åŠŸèƒ½è¯´æ˜

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„C++æ•°æ®é›†ç”Ÿæˆä¸ç‰¹å¾æå–æ¨¡å—ï¼Œæä¾›äº†å¤šç§æ•°æ®ç”Ÿæˆæ–¹æ³•å’Œæ•°æ®ç‰¹å¾åˆ†æåŠŸèƒ½ã€‚è¯¥æ¨¡å—ä¸»è¦ç”¨äºç”Ÿæˆä¸åŒç‰¹æ€§çš„æµ‹è¯•æ•°æ®é›†ï¼Œå¹¶è®¡ç®—æ•°æ®é›†çš„å…³é”®ç‰¹å¾æŒ‡æ ‡ã€‚

**ä»£ç ç‰¹ç‚¹ï¼š**
- âœ… ç®€æ´æ˜“æ‡‚çš„ä»£ç ç»“æ„
- âœ… æ¸…æ™°çš„è‹±æ–‡å•è¡Œæ³¨é‡Š
- âœ… é€‚åˆå­¦ç”Ÿå­¦ä¹ å’Œç†è§£
- âœ… ä»£ç ç›´è§‚ã€æ— è¿‡åº¦å¤æ‚åŒ–

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ä¸€ã€æ•°æ®ç”Ÿæˆå‡½æ•°ï¼ˆ5ç§ï¼‰

#### 1. `generateRandom(int n)` - ç”Ÿæˆå®Œå…¨éšæœºæ•°ç»„
**åŠŸèƒ½æè¿°ï¼š**
- ç”ŸæˆåŒ…å« n ä¸ªå®Œå…¨éšæœºæ•´æ•°çš„æ•°ç»„
- æ•°å€¼èŒƒå›´ï¼š1 åˆ° 10,000
- ä½¿ç”¨é«˜è´¨é‡çš„æ¢…æ£®æ—‹è½¬ç®—æ³•ï¼ˆmt19937ï¼‰ä¿è¯éšæœºæ€§

**ä½¿ç”¨åœºæ™¯ï¼š**
- æµ‹è¯•æ’åºç®—æ³•çš„å¹³å‡æ€§èƒ½
- ç”Ÿæˆé€šç”¨æµ‹è¯•æ•°æ®
- æ¨¡æ‹Ÿéšæœºæ•°æ®åˆ†å¸ƒ

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> arr = generateRandom(100);  // ç”Ÿæˆ100ä¸ªéšæœºæ•°
```

---

#### 2. `generateNearlySorted(int n, int swaps)` - ç”Ÿæˆå‡ ä¹æœ‰åºæ•°ç»„
**åŠŸèƒ½æè¿°ï¼š**
- å…ˆç”Ÿæˆä¸€ä¸ªå®Œå…¨æœ‰åºçš„æ•°ç»„ï¼ˆ1, 2, 3, ..., nï¼‰
- ç„¶åè¿›è¡ŒæŒ‡å®šæ¬¡æ•°çš„éšæœºä½ç½®äº¤æ¢
- äº¤æ¢æ¬¡æ•°è¶Šå°‘ï¼Œæ•°ç»„è¶Šæ¥è¿‘æœ‰åºçŠ¶æ€

**å‚æ•°è¯´æ˜ï¼š**
- `n`: æ•°ç»„å¤§å°
- `swaps`: æ‰§è¡Œçš„éšæœºäº¤æ¢æ¬¡æ•°

**ä½¿ç”¨åœºæ™¯ï¼š**
- æµ‹è¯•æ’å…¥æ’åºç­‰å¯¹è¿‘ä¼¼æœ‰åºæ•°æ®æ•æ„Ÿçš„ç®—æ³•
- æ¨¡æ‹Ÿéƒ¨åˆ†æœ‰åºçš„çœŸå®æ•°æ®
- è¯„ä¼°ç®—æ³•åœ¨ä¸åŒæœ‰åºç¨‹åº¦ä¸‹çš„æ€§èƒ½

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> arr = generateNearlySorted(1000, 10);  // 1000ä¸ªå…ƒç´ ï¼Œ10æ¬¡äº¤æ¢
```

---

#### 3. `generateReversed(int n)` - ç”Ÿæˆå®Œå…¨é€†åºæ•°ç»„
**åŠŸèƒ½æè¿°ï¼š**
- ç”Ÿæˆå®Œå…¨é€†åºæ’åˆ—çš„æ•°ç»„ï¼ˆn, n-1, n-2, ..., 2, 1ï¼‰
- è¿™æ˜¯è®¸å¤šæ’åºç®—æ³•çš„æœ€åæƒ…å†µ

**ä½¿ç”¨åœºæ™¯ï¼š**
- æµ‹è¯•æ’åºç®—æ³•çš„æœ€åæƒ…å†µæ€§èƒ½
- å‹åŠ›æµ‹è¯•
- ç®—æ³•å¤æ‚åº¦éªŒè¯

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> arr = generateReversed(500);  // ç”Ÿæˆ 500, 499, ..., 2, 1
```

---

#### 4. `generateFewUnique(int n, int uniqueCount)` - ç”Ÿæˆå°‘é‡å”¯ä¸€å…ƒç´ æ•°ç»„
**åŠŸèƒ½æè¿°ï¼š**
- ç”ŸæˆåªåŒ…å«å°‘æ•°å‡ ç§ä¸åŒå€¼çš„æ•°ç»„
- å…ƒç´ å€¼åœ¨ 1 åˆ° `uniqueCount` ä¹‹é—´éšæœºé€‰æ‹©
- ä¼šäº§ç”Ÿå¤§é‡é‡å¤å…ƒç´ 

**å‚æ•°è¯´æ˜ï¼š**
- `n`: æ•°ç»„å¤§å°
- `uniqueCount`: å”¯ä¸€å€¼çš„ç§ç±»æ•°é‡

**ä½¿ç”¨åœºæ™¯ï¼š**
- æµ‹è¯•å¤„ç†å¤§é‡é‡å¤æ•°æ®çš„ç®—æ³•
- è®¡æ•°æ’åºã€æ¡¶æ’åºç­‰ç®—æ³•æµ‹è¯•
- æ¨¡æ‹Ÿç±»åˆ«å‹æ•°æ®

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> arr = generateFewUnique(1000, 5);  // 1000ä¸ªå…ƒç´ ï¼Œåªæœ‰1-5è¿™5ä¸ªå€¼
```

---

#### 5. `generateLargeRandom(int n)` - ç”Ÿæˆå¤§è§„æ¨¡éšæœºæ•°ç»„
**åŠŸèƒ½æè¿°ï¼š**
- ä¸“é—¨ç”¨äºç”Ÿæˆå¤§è§„æ¨¡æ•°æ®é›†ï¼ˆn > 1000ï¼‰
- æ•°å€¼èŒƒå›´ï¼š1 åˆ° 100,000
- ä¼˜åŒ–äº†å¤§æ•°æ®é‡åœºæ™¯çš„ç”Ÿæˆæ•ˆç‡

**ä½¿ç”¨åœºæ™¯ï¼š**
- å¤§æ•°æ®é‡æ€§èƒ½æµ‹è¯•
- ç®—æ³•å¯æ‰©å±•æ€§æµ‹è¯•
- å‹åŠ›æµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> arr = generateLargeRandom(100000);  // ç”Ÿæˆ10ä¸‡ä¸ªéšæœºæ•°
```

---

### äºŒã€ç‰¹å¾æå–å‡½æ•°ï¼ˆ3ç§ï¼‰

#### 1. `getDatasetSize(vector<int>& arr)` - è·å–æ•°æ®é›†å¤§å°
**åŠŸèƒ½æè¿°ï¼š**
- è¿”å›æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°

**è¿”å›å€¼ï¼š**
- int ç±»å‹ï¼Œæ•°ç»„å¤§å°

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> arr = generateRandom(100);
int size = getDatasetSize(arr);  // è¿”å› 100
```

---

#### 2. `calculateSortedness(vector<int>& arr)` - è®¡ç®—æœ‰åºåº¦
**åŠŸèƒ½æè¿°ï¼š**
- è®¡ç®—æ•°ç»„çš„æœ‰åºç¨‹åº¦ç™¾åˆ†æ¯”
- ç»Ÿè®¡æ‰€æœ‰ç›¸é‚»å…ƒç´ å¯¹ä¸­ï¼Œæ»¡è¶³ `arr[i] <= arr[i+1]` çš„å¯¹æ•°æ¯”ä¾‹

**è®¡ç®—å…¬å¼ï¼š**
```
æœ‰åºåº¦ = (æœ‰åºç›¸é‚»å¯¹æ•°é‡ / æ€»ç›¸é‚»å¯¹æ•°é‡) Ã— 100%
```

**è¿”å›å€¼ï¼š**
- 0.00% - 100.00% çš„ double å€¼
- 100% è¡¨ç¤ºå®Œå…¨æœ‰åº
- 0% è¡¨ç¤ºå®Œå…¨é€†åº
- 50% å·¦å³è¡¨ç¤ºéšæœºåˆ†å¸ƒ

**ä½¿ç”¨åœºæ™¯ï¼š**
- è¯„ä¼°æ•°æ®çš„æœ‰åºç¨‹åº¦
- éªŒè¯æ’åºå‰åçš„çŠ¶æ€
- é€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> sorted = {1, 2, 3, 4, 5};
double sortedness = calculateSortedness(sorted);  // è¿”å› 100.00

vector<int> reversed = {5, 4, 3, 2, 1};
sortedness = calculateSortedness(reversed);  // è¿”å› 0.00
```

---

#### 3. `calculateUniqueRatio(vector<int>& arr)` - è®¡ç®—å”¯ä¸€å…ƒç´ æ¯”ä¾‹
**åŠŸèƒ½æè¿°ï¼š**
- è®¡ç®—æ•°ç»„ä¸­å”¯ä¸€å…ƒç´ ï¼ˆä¸é‡å¤å…ƒç´ ï¼‰å æ€»å…ƒç´ çš„æ¯”ä¾‹
- ä½¿ç”¨ `std::set` é«˜æ•ˆç»Ÿè®¡å”¯ä¸€å…ƒç´ æ•°é‡

**è®¡ç®—å…¬å¼ï¼š**
```
å”¯ä¸€å…ƒç´ æ¯”ä¾‹ = å”¯ä¸€å…ƒç´ æ•°é‡ / æ€»å…ƒç´ æ•°é‡
```

**è¿”å›å€¼ï¼š**
- 0.0 - 1.0 çš„ double å€¼
- 1.0 è¡¨ç¤ºæ‰€æœ‰å…ƒç´ éƒ½ä¸é‡å¤
- æ¥è¿‘ 0.0 è¡¨ç¤ºé‡å¤åº¦å¾ˆé«˜

**ä½¿ç”¨åœºæ™¯ï¼š**
- è¯„ä¼°æ•°æ®çš„å¤šæ ·æ€§
- åˆ¤æ–­æ˜¯å¦é€‚åˆä½¿ç”¨å“ˆå¸Œè¡¨ç­‰æ•°æ®ç»“æ„
- æ•°æ®é¢„å¤„ç†åˆ†æ

**ç¤ºä¾‹ï¼š**
```cpp
vector<int> unique = {1, 2, 3, 4, 5};
double ratio = calculateUniqueRatio(unique);  // è¿”å› 1.0

vector<int> duplicates = {1, 1, 1, 2, 2};
ratio = calculateUniqueRatio(duplicates);  // è¿”å› 0.4 (2/5)
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
project/dataset/
â”œâ”€â”€ dataset.h              # å¤´æ–‡ä»¶ï¼šå‡½æ•°å£°æ˜
â”œâ”€â”€ dataset.cpp            # å®ç°æ–‡ä»¶ï¼šæ‰€æœ‰å‡½æ•°çš„å…·ä½“å®ç°
â”œâ”€â”€ test_generation.cpp    # æµ‹è¯•æ–‡ä»¶ï¼šæ•°æ®ç”Ÿæˆå‡½æ•°æµ‹è¯•
â”œâ”€â”€ test_extraction.cpp    # æµ‹è¯•æ–‡ä»¶ï¼šç‰¹å¾æå–å‡½æ•°æµ‹è¯•
â”œâ”€â”€ test_gen              # å¯æ‰§è¡Œæ–‡ä»¶ï¼šæ•°æ®ç”Ÿæˆæµ‹è¯•ç¨‹åº
â””â”€â”€ test_ext              # å¯æ‰§è¡Œæ–‡ä»¶ï¼šç‰¹å¾æå–æµ‹è¯•ç¨‹åº
```

## ğŸ”§ ç¼–è¯‘ä¸è¿è¡Œ

### ç¼–è¯‘æ•°æ®ç”Ÿæˆæµ‹è¯•ç¨‹åº
```bash
cd project/dataset
g++ -std=c++11 -o test_gen dataset.cpp test_generation.cpp
./test_gen
```

### ç¼–è¯‘ç‰¹å¾æå–æµ‹è¯•ç¨‹åº
```bash
cd project/dataset
g++ -std=c++11 -o test_ext dataset.cpp test_extraction.cpp
./test_ext
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´ç¤ºä¾‹ï¼šç”Ÿæˆæ•°æ®å¹¶åˆ†æç‰¹å¾
```cpp
#include "dataset.h"
#include <iostream>
#include <iomanip>

int main() {
    // 1. ç”Ÿæˆå‡ ä¹æœ‰åºçš„æ•°ç»„
    vector<int> data = generateNearlySorted(1000, 20);
    
    // 2. åˆ†ææ•°æ®ç‰¹å¾
    cout << "æ•°æ®é›†å¤§å°: " << getDatasetSize(data) << endl;
    cout << "æœ‰åºåº¦: " << fixed << setprecision(2) 
         << calculateSortedness(data) << "%" << endl;
    cout << "å”¯ä¸€å…ƒç´ æ¯”ä¾‹: " << fixed << setprecision(4)
         << calculateUniqueRatio(data) << endl;
    
    // 3. æ ¹æ®ç‰¹å¾é€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•
    if (calculateSortedness(data) > 80.0) {
        cout << "å»ºè®®ä½¿ç”¨æ’å…¥æ’åº" << endl;
    } else {
        cout << "å»ºè®®ä½¿ç”¨å¿«é€Ÿæ’åº" << endl;
    }
    
    return 0;
}
```

## ğŸ“Š æµ‹è¯•ç»“æœç¤ºä¾‹

### æ•°æ®ç”Ÿæˆæµ‹è¯•è¾“å‡º
```
=== æ•°æ®ç”Ÿæˆå‡½æ•°æµ‹è¯• ===

[æµ‹è¯•1] generateRandom(20)
éšæœºæ•°ç»„ (size: 20)
First 20 elements: 4422 4615 2931 1788 2321 ...

[æµ‹è¯•2] generateNearlySorted(20, 3)
å‡ ä¹æœ‰åºæ•°ç»„ (3æ¬¡äº¤æ¢) (size: 20)
First 20 elements: 19 2 3 4 5 16 7 8 9 10 ...

[æµ‹è¯•3] generateReversed(15)
é€†åºæ•°ç»„ (size: 15)
First 15 elements: 15 14 13 12 11 10 9 8 7 6 ...
```

### ç‰¹å¾æå–æµ‹è¯•è¾“å‡º
```
=== ç‰¹å¾æå–å‡½æ•°æµ‹è¯• ===

[æµ‹è¯•1] å®Œå…¨æœ‰åºæ•°ç»„
  - å¤§å°: 10
  - æœ‰åºåº¦: 100.00%
  - å”¯ä¸€å…ƒç´ æ¯”ä¾‹: 1.0000

[æµ‹è¯•4] å°‘é‡å”¯ä¸€å…ƒç´ æ•°ç»„
  - å¤§å°: 100
  - æœ‰åºåº¦: 57.58%
  - å”¯ä¸€å…ƒç´ æ¯”ä¾‹: 0.0500
```

## âš™ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚

### ä»£ç ç®€åŒ–ç‰¹ç‚¹

**1. ç®€æ´çš„ä»£ç ç»„ç»‡**
```cpp
// ==============================================
// Data Generation Functions
// ==============================================
```
- ä½¿ç”¨ç®€çŸ­çš„åˆ†éš”çº¿åŒºåˆ†åŠŸèƒ½æ¨¡å—
- ä»£ç ç»“æ„æ¸…æ™°æ˜äº†

**2. ç®€å•ç›´æ¥çš„æ³¨é‡Š**
```cpp
// Generate random array of size n (range: 1-10000)
vector<int> generateRandom(int n);

// Create sorted array
for (int i = 0; i < n; i++) {
    arr[i] = i + 1;
}

// Do random swaps
for (int i = 0; i < swaps; i++) {
    ...
}
```
- å•è¡Œæ³¨é‡Šç®€æ´æ˜äº†
- é¿å…è¿‡åº¦æ–‡æ¡£åŒ–
- æ˜“äºé˜…è¯»å’Œç†è§£

**3. ç›´ç™½çš„ç±»å‹è½¬æ¢**
```cpp
// ç®€å•çš„ C é£æ ¼è½¬æ¢
return (double)uniqueElements.size() / arr.size();
```
- ä½¿ç”¨ç›´æ¥çš„ç±»å‹è½¬æ¢
- ä»£ç æ›´åŠ ç®€æ´
- é€‚åˆåˆå­¦è€…ç†è§£

### éšæœºæ•°ç”Ÿæˆ
- **éšæœºç§å­**: ä½¿ç”¨ `std::random_device` è·å–çœŸéšæœºç§å­
- **éšæœºå¼•æ“**: ä½¿ç”¨ `std::mt19937` æ¢…æ£®æ—‹è½¬ç®—æ³•ï¼Œä¿è¯é«˜è´¨é‡éšæœºæ€§
- **åˆ†å¸ƒæ–¹å¼**: ä½¿ç”¨ `std::uniform_int_distribution` å®ç°å‡åŒ€åˆ†å¸ƒ

### æœ‰åºåº¦è®¡ç®—ç®—æ³•
```cpp
1. éå†æ•°ç»„æ‰€æœ‰ç›¸é‚»å…ƒç´ å¯¹
2. ç»Ÿè®¡æ»¡è¶³ arr[i] <= arr[i+1] çš„å¯¹æ•°
3. è®¡ç®—æ¯”ä¾‹å¹¶è½¬æ¢ä¸ºç™¾åˆ†æ¯”
```

### å”¯ä¸€å…ƒç´ è®¡æ•°
```cpp
1. å°†æ•°ç»„å…ƒç´ æ’å…¥ std::set
2. set è‡ªåŠ¨å»é‡
3. è®¡ç®— set.size() / arr.size()
```

## ğŸ“ åº”ç”¨åœºæ™¯

1. **ç®—æ³•è¯¾ç¨‹æ•™å­¦**
   - ç”Ÿæˆä¸åŒç‰¹æ€§çš„æµ‹è¯•æ•°æ®
   - æ¼”ç¤ºç®—æ³•åœ¨ä¸åŒæ•°æ®é›†ä¸Šçš„è¡¨ç°

2. **ç®—æ³•æ€§èƒ½æµ‹è¯•**
   - æµ‹è¯•æ’åºç®—æ³•çš„å„ç§æƒ…å†µæ€§èƒ½
   - æ¯”è¾ƒä¸åŒç®—æ³•çš„ä¼˜åŠ£

3. **æ•°æ®ç»“æ„ç ”ç©¶**
   - ç”Ÿæˆç‰¹å®šåˆ†å¸ƒçš„æ•°æ®é›†
   - è¯„ä¼°æ•°æ®ç»“æ„çš„æ•ˆç‡

4. **æœºå™¨å­¦ä¹ æ•°æ®é¢„å¤„ç†**
   - åˆ†ææ•°æ®é›†ç‰¹å¾
   - æ•°æ®è´¨é‡è¯„ä¼°

## âœ… è¾¹ç•Œæƒ…å†µå¤„ç†

æ‰€æœ‰å‡½æ•°éƒ½æ­£ç¡®å¤„ç†ä»¥ä¸‹è¾¹ç•Œæƒ…å†µï¼š

- âœ“ ç©ºæ•°ç»„
- âœ“ å•å…ƒç´ æ•°ç»„
- âœ“ æ‰€æœ‰å…ƒç´ ç›¸åŒçš„æ•°ç»„
- âœ“ å¤§è§„æ¨¡æ•°æ®ï¼ˆn > 1000ï¼‰

## ğŸ“– å‡½æ•°é€ŸæŸ¥è¡¨

| å‡½æ•°å | åŠŸèƒ½ | è¾“å…¥å‚æ•° | è¿”å›ç±»å‹ |
|--------|------|----------|----------|
| `generateRandom` | ç”Ÿæˆéšæœºæ•°ç»„ | int n | vector\<int\> |
| `generateNearlySorted` | ç”Ÿæˆå‡ ä¹æœ‰åºæ•°ç»„ | int n, int swaps | vector\<int\> |
| `generateReversed` | ç”Ÿæˆé€†åºæ•°ç»„ | int n | vector\<int\> |
| `generateFewUnique` | ç”Ÿæˆå°‘é‡å”¯ä¸€å€¼æ•°ç»„ | int n, int uniqueCount | vector\<int\> |
| `generateLargeRandom` | ç”Ÿæˆå¤§è§„æ¨¡éšæœºæ•°ç»„ | int n | vector\<int\> |
| `getDatasetSize` | è·å–æ•°ç»„å¤§å° | vector\<int\>& arr | int |
| `calculateSortedness` | è®¡ç®—æœ‰åºåº¦ | vector\<int\>& arr | double (%) |
| `calculateUniqueRatio` | è®¡ç®—å”¯ä¸€å…ƒç´ æ¯”ä¾‹ | vector\<int\>& arr | double (0-1) |

## ğŸ” å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæœ‰ `generateRandom` å’Œ `generateLargeRandom` ä¸¤ä¸ªå‡½æ•°ï¼Ÿ**  
A: `generateLargeRandom` ä¸“é—¨é’ˆå¯¹å¤§æ•°æ®é‡ï¼ˆn > 1000ï¼‰ä¼˜åŒ–ï¼Œä½¿ç”¨æ›´å¤§çš„æ•°å€¼èŒƒå›´ï¼ˆ1-100000ï¼‰ï¼Œé¿å…å°èŒƒå›´å†…çš„ç¢°æ’ã€‚

**Q: æœ‰åºåº¦çš„è®¡ç®—æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ**  
A: ç»Ÿè®¡ç›¸é‚»å…ƒç´ å¯¹ä¸­æ»¡è¶³éé€’å‡å…³ç³»ï¼ˆarr[i] <= arr[i+1]ï¼‰çš„æ¯”ä¾‹ã€‚

**Q: å¦‚ä½•é€‰æ‹©åˆé€‚çš„äº¤æ¢æ¬¡æ•°ç”Ÿæˆå‡ ä¹æœ‰åºæ•°ç»„ï¼Ÿ**  
A: ä¸€èˆ¬å»ºè®® swaps = n * 0.05 åˆ° n * 0.1ï¼Œå³ 5%-10% çš„äº¤æ¢æ¯”ä¾‹ã€‚

---

**ç‰ˆæœ¬**: 1.0  
**ä½œè€…**: Dataset Generation & Feature Extraction Team  
**æ›´æ–°æ—¥æœŸ**: 2025-12-12
